<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Weather</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<body>
    <nav class="navbar navbar-light bg-light justify-content-between">
        <a class="navbar-brand">Weather Dashboard</a>
        <form class="form-inline">
          <!-- This is city -->
          <span id="error"></span>
          <input id= "city" class="form-control mr-sm-2" type="search" placeholder="Search for City" aria-label="Search">
          <!-- Get forcast-->
          <button id="getForcast" class="btn btn-outline-success my-2 my-sm-0" type="button">Search</button>
          
      </form>
      </nav>
      <div  id="showForcast" ></div>
      <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
              <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
              <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
      <div class="card" style="width: 18rem;">
        <div class="card-header">
          List of Cities
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">Philadelphia</li>
          <li class="list-group-item">New York City</li>
          <li class="list-group-item">Dallas</li>
          <li class="list-group-item">Orlando</li>
          <li class="list-group-item">Los Angeles</li>
        </ul>
      </div>
      <div class="card" style="width: 18rem;">
            <div class="card-header">
              List of Cities (International)
            </div>
            <ul class="list-group list-group-flush">
              <li class="list-group-item">Buenos Aires</li>
              <li class="list-group-item">London</li>
              <li class="list-group-item">Tokyo</li>
              <li class="list-group-item">Berlin</li>
              <li class="list-group-item">Florence</li>
            </ul>
          </div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript"></script>
<!--<script src="script.js"></script>-->
<link rel="stylesheet" type="text/css" href="style.css">
<script>
    $(document).ready(function(){
      
      $("#getForcast").click(function(){
                
                var city = $("#city").val();
                var key  = '32bfd16c31d1937bf0996fcd67fb43dd';
            
            $.ajax({
              url:'http://api.openweathermap.org/data/2.5/weather',
              dataType:'json',
              type:'GET',
              data:{q:city, appid: key, units: 'imperial'},

              success: function(data){
                var weatherforcast = '';
                $.each(data.weather, function(index, val){

                  weatherforcast = '<p><b>' + data.name + "</b><img src="+ data.weather.icon + ".png></p>"+ data.main.temp + '&deg;F ' + 
                  ' | ' + val.main + ", " + val.description + " | Humidity: " + data.main.humidity + " | WindSpeed: " + data.wind.speed

                });
              
               $("#showForcast").html(weatherforcast);
              }

            })

      });
    });
</script>
</body>
</html>